<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="This guide is for developers of COIN-OR projects, especially those that use the COIN-OR build system.">
<meta name="keywords" content="developer_getting_started,  optimization COIN-OR">
<title>COIN-OR Developer's Guide | COIN-OR Documentation</title>
<link rel="stylesheet" href="css/syntax.css">

<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
<!--<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">-->
<link rel="stylesheet" href="css/modern-business.css">
<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<link rel="stylesheet" href="css/customstyles.css">
<link rel="stylesheet" href="css/boxshadowproperties.css">
<!-- most color styles are extracted out to here -->
<link rel="stylesheet" href="css/theme-blue.css">

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script src="js/jquery.navgoco.min.js"></script>


<!-- Latest compiled and minified JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<!-- Anchor.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/2.0.0/anchor.min.js"></script>
<script src="js/toc.js"></script>
<script src="js/customscripts.js"></script>

<link rel="shortcut icon" href="images/favicon.ico">

<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->

<link rel="alternate" type="application/rss+xml" title="documentation-theme-jekyll" href="/feed.xml">

    <script>
        $(document).ready(function() {
            // Initialize navgoco with default options
            $("#mysidebar").navgoco({
                caretHtml: '',
                accordion: true,
                openClass: 'active', // open
                save: false, // leave false or nav highlighting doesn't work right
                cookie: {
                    name: 'navgoco',
                    expires: false,
                    path: '/'
                },
                slide: {
                    duration: 400,
                    easing: 'swing'
                }
            });

            $("#collapseAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', false);
            });

            $("#expandAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', true);
            });

        });

    </script>
    <script>
        $(function () {
            $('[data-toggle="tooltip"]').tooltip()
        })
    </script>
    <script>
        $(document).ready(function() {
            $("#tg-sb-link").click(function() {
                $("#tg-sb-sidebar").toggle();
                $("#tg-sb-content").toggleClass('col-md-9');
                $("#tg-sb-content").toggleClass('col-md-12');
                $("#tg-sb-icon").toggleClass('fa-toggle-on');
                $("#tg-sb-icon").toggleClass('fa-toggle-off');
            });
        });
    </script>
    

</head>
<body>
<!-- Navigation -->
<nav class="navbar navbar-inverse navbar-static-top">
    <div class="container topnavlinks">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="fa fa-home fa-lg navbar-brand" href="index.html">&nbsp;<span class="projectTitle"> COIN-OR Documentation</span></a>
        </div>
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <!-- toggle sidebar button -->
                <li><a id="tg-sb-link" href="#"><i id="tg-sb-icon" class="fa fa-toggle-on"></i> Nav</a></li>
                <!-- entries without drop-downs appear here -->




                
                
                
                <li><a href="https://github.com/tomjoht/documentation-theme-jekyll" target="_blank">GitHub</a></li>
                
                
                
                <li><a href="news">News</a></li>
                
                
                
                <!-- entries with drop-downs appear here -->
                <!-- conditional logic to control which topnav appears for the audience defined in the configuration file.-->
                
                
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">COIN-OR Help<b class="caret"></b></a>
                    <ul class="dropdown-menu">
                        
                        
                        <li><a href="https://www.coin-or.org" target="_blank">COIN-OR Web Site</a></li>
                        
                        
                    </ul>
                </li>
                
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Guides<b class="caret"></b></a>
                    <ul class="dropdown-menu">
                        
                        
                        <li><a href="user_introduction.html">User Guide</a></li>
                        
                        
                        
                        <li class="dropdownActive"><a href="developer_introduction.html">Developer Guide</a></li>
                        
                        
                    </ul>
                </li>
                
                
                
			<li>



  <a class="email" title="Submit feedback" href="#" onclick="javascript:window.location='mailto:info@coin-or.org?subject=COIN-OR Documentation feedback&body=I have some feedback about the COIN-OR Developer's Guide page: ' + window.location.href;"><i class="fa fa-envelope-o"></i> Need help?</a>

</li>

		
                <!--comment out this block if you want to hide search-->
                <li>
                    <!--start search-->
                    <div id="search-demo-container">
                        <input type="text" id="search-input" placeholder="search...">
                        <ul id="results-container"></ul>
                    </div>
                    <script src="js/jekyll-search.js" type="text/javascript"></script>
                    <script type="text/javascript">
                            SimpleJekyllSearch.init({
                                searchInput: document.getElementById('search-input'),
                                resultsContainer: document.getElementById('results-container'),
                                dataSource: 'search.json',
                                searchResultTemplate: '<li><a href="{url}" title="COIN-OR Developer&#39;s Guide">{title}</a></li>',
                    noResultsText: 'No results found.',
                            limit: 10,
                            fuzzy: true,
                    })
                    </script>
                    <!--end search-->
                </li>
            </ul>
        </div>
        </div>
        <!-- /.container -->
</nav>

<!-- Page Content -->
<div class="container">
  <div id="main">
    <!-- Content Row -->
    <div class="row">
        
        
            <!-- Sidebar Column -->
            <div class="col-md-3" id="tg-sb-sidebar">
                

<ul id="mysidebar" class="nav">
  <li class="sidebarTitle">COIN-OR Developer Guide </li>
  
  
  
      
  
  <li>
      <a href="#">Overview</a>
      <ul>
          
          
          
          <li><a href="developer_introduction.html#basics">Basics</a></li>
          
          
          
          
          
          
          <li><a href="developer_introduction.html#basics">Working with git</a></li>
          
          
          
          
          
          
          <li><a href="developer_introduction.html#basics">Working with Github</a></li>
          
          
          
          
          
          
          <li><a href="developer_introduction.html#basics">Build system</a></li>
          
          
          
          
      </ul>
   </li>
     
      
      
      <!-- if you aren't using the accordion, uncomment this block:
         <p class="external">
             <a href="#" id="collapseAll">Collapse All</a> | <a href="#" id="expandAll">Expand All</a>
         </p>
         -->
</ul>

<!-- this highlights the active parent class in the navgoco sidebar. this is critical so that the parent expands when you're viewing a page. This must appear below the sidebar code above. Otherwise, if placed inside customscripts.js, the script runs before the sidebar code runs and the class never gets inserted.-->
<script>$("li.active").parents('li').toggleClass("active");</script>

            </div>
            
        

        <!-- Content Column -->
        <div class="col-md-9" id="tg-sb-content">
            <div class="post-header">
   <h1 class="post-title-main">COIN-OR Developer's Guide</h1>
</div>



<div class="post-content">

   
    <div class="summary">This guide is for developers of COIN-OR projects, especially those that use the COIN-OR build system.</div>
   

    
    
<!-- this handles the automatic toc. use ## for subheads to auto-generate the on-page minitoc. if you use html tags, you must supply an ID for the heading element in order for it to appear in the minitoc. -->
<script>
$( document ).ready(function() {
  // Handler for .ready() called.

$('#toc').toc({ minimumHeaders: 0, listType: 'ul', showSpeed: 0, headers: 'h2,h3,h4' });

/* this offset helps account for the space taken up by the floating toolbar. */
$('#toc').on('click', 'a', function() {
  var target = $(this.getAttribute('href'))
    , scroll_target = target.offset().top

  $(window).scrollTop(scroll_target - 10);
  return false
})
  
});
</script>

<div id="toc"></div>

    


    

    <a target="_blank" href="https://github.com/coin-or/coin-or.github.io/blob/master/pages/developer/developer_introduction.md" class="btn btn-default githubEditButton" role="button"><i class="fa fa-github fa-lg"></i> Edit me</a>

    

   <p>For now, this guide focuses mainly on the migration from SVN to git in order
to help everyone get on a solid footing with the move to github. It is assumed
most people are familiar with git, but specific recipes are given for the usual workflows.
A good crash course in git for those familiar with SVN is
<a href="https://git.wiki.kernel.org/index.php/GitSvnCrashCourse">here</a>.</p>

<h2 id="moving-from-svn-to-git">Moving from SVN to git</h2>

<p>There will ultimately be many changes going from SVN to git, the biggest are</p>

<ul>
  <li>We’ll be abandoning the use of the <em>externals</em> mechanism that made it
possible to easily pull in all dependencies in SVN.</li>
  <li>The repository organization will change due to the fact that git doesn’t
employ the same sort of folder-based design for storage.</li>
</ul>

<p>Although there is now a mechanism in git that functions roughly like the SVN
externals mechanims (it is called <em>submodules</em>), we’ve long thought of moving
away from using the externals mechanism in order to avoid a number of issues,
such as the difficult of having multiple packages checked out simultaneously
with common dependencies. The <a href="#coinbrew">coinbrew</a> script now acts as a sort
of package manager, effectively replacing the externals mechanism with a more
powerful alternative.</p>

<p>Other changes have to do simply terminology and philosophy. In git, each
commit represents a complete snapshot of the state of the repository, not a
set of changes, as in SVN. The commits in git are related to each other
through a directed acyclic graph. Each commit has one or more parents and one
or more children. The individual commits are identified by “hashes” or “SHAs”
(as opposed to SVN’s revisions) because they are identified by a long string
that is obtained by hashing the contents of the commit, such as</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>~/Projects/Cbc &gt; git log
commit 8a40de8b1a6f550c440dddd3e83d26807c1877b8 (HEAD -&gt; master, origin/master, origin/HEAD)
Author: John Forrest &lt;john.forrest@fastercoin.com&gt;
Date:   Tue Mar 26 15:04:27 2019 +0000
</code></pre></div></div>
<p>Each commit has one (or more) parents, which define the graph of commits
across the entire repository.</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>~/Projects/Cbc &gt; git cat-file -p 8a40de8b
tree 11d40c5ac7bfd6ec6d9747a4b62562ee83986deb
parent ededdc0f67e0381b7ea233d61488e4933078115d
author John Forrest &lt;john.forrest@fastercoin.com&gt; 1553612667 +0000
committer John Forrest &lt;john.forrest@fastercoin.com&gt; 1553612667 +0000

out stupid clone which causes memory leak
</code></pre></div></div>
<p>Whereas in SVN, it is possible (though not recommended) to commit changes to
multiple branches in a single commit, this is not possible in git.</p>

<p>When one “clones” a repository in git, the download includes the entirety of
its contents, including all commits, whereas in SVN, one only gets the
contents of the current revision. This enables you to work off-line with git
and still be able to switch branches, make commits, etc. The working
directory, however, contains only the contents of what used to be one of the
single top-level folders in SVN at one time. Next, we describe how the SVN
folder structure translates into the structure of a git repository.</p>

<h3 id="repository-organization">Repository organization</h3>

<p>If you had the recommeded repository structure in your SVN repository, then
the root of your repository looked something like this.</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>html/
conf/
branches/
trunk/
stable/
releases/
</code></pre></div></div>
<p>In git, the top-level folders in SVN map either to git “branches” or “tags”.
Both branches and tage are nothing more in git than aliases for particular
commits (identified by their SHA or hash). The difference between a branch and
a tag is only that a branch is dynamic and always points to the “tip” of a
given series of commits, whereas a “tag” is a fixed pointer that never
changes.</p>

<p>The recommended structure (which is imposed for the repositories that were
mirrored from SVN to git) is as follows.</p>
<ul>
  <li>The stable versions in SVN that used to live in a folder <code class="language-plaintext highlighter-rouge">stable/x.y</code> are
now in a git branch called <code class="language-plaintext highlighter-rouge">stable/x.y</code>. In git, this branch label is just
a string designating the name of a branch, not a true folder, as in SVN
(the <code class="language-plaintext highlighter-rouge">/</code> has no meaning in terms of organization).</li>
  <li>The releases in SVN that used to be in the folder <code class="language-plaintext highlighter-rouge">releases/x.y.z</code> are now
git tags with the label <code class="language-plaintext highlighter-rouge">releases/x.y.z</code> in git. These are now truly fixed
versions, whereas they could in principle be updated in SVN (and sometimes
were).</li>
  <li>What was called <code class="language-plaintext highlighter-rouge">trunk</code> in SVN is the <code class="language-plaintext highlighter-rouge">master</code> branch in git.
This is the branch that users get by default (although you can change this
if you want).</li>
  <li>If there was anything in the SVN <code class="language-plaintext highlighter-rouge">branches</code> folder, this
would also be just a regular git branch in the git repo.
If you now do</li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git clone https://github.com/coin-or/Cbc
</code></pre></div></div>
<p>you will get a copy of the repository with the working directory being the
<code class="language-plaintext highlighter-rouge">master</code> branch. To get the stable version 2.10 of Cbc (after cloning as
above), you would do</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git checkout stable/2.10
</code></pre></div></div>
<p>You can see what branches are available with the <code class="language-plaintext highlighter-rouge">git branch</code> command, but git
only shows you branches that you have worked with locally by default. If you
do <code class="language-plaintext highlighter-rouge">git branch -a</code>, you will also see remote branches. For Cbc, we have</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>~/Projects/Cbc&gt; git branch -a
  master
* stable/2.10
  remotes/origin/HEAD -&gt; origin/master
  remotes/origin/autotools-update
  remotes/origin/devel
  remotes/origin/dynamicbranching
  remotes/origin/gh-pages
  remotes/origin/heur
  remotes/origin/master
  remotes/origin/newsearchtree
  remotes/origin/primalheur
  remotes/origin/stable/1.1
  remotes/origin/stable/1.2
  ...
</code></pre></div></div>
<p>The <code class="language-plaintext highlighter-rouge">*</code> indicates the branch you currently have checked out. Your local
branches will usually correspond to branches that also exist in the remote
repository, but not always. If you <code class="language-plaintext highlighter-rouge">git checkout</code> a branch with the same name as
one that exists remotely, then it will set up a new local branch that tracks
the remote one. Otherwise, it creates a new local branch for your current
commit that can later be pushed to the remote repository, if desired.</p>

<p>To see the tags (releases) available, do</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>~/Projects/Cbc&gt; git tag
releases/1.1.0
releases/1.1.1
releases/1.1.2
releases/1.2.0
releases/2.0.0
</code></pre></div></div>
<p>You can check out a tag in git, but you will get a message starting with</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>You are in 'detached HEAD' state. You can look around, make experimental changes...
</code></pre></div></div>
<p>This is because tags are just pointers to specific SHAs and don’t have parents
or children. They exists in a fixed state detached from the rest of the
respository, although the SHA may itself also be a commit in a branch as well.
In general, it is better as a developer not to check out releases directly.</p>

<h3 id="mapping-of-svn-revisions-to-git-hashes">Mapping of SVN revisions to git hashes</h3>

<p>The mirroring software we used to move project from SVN to git keeps a record
of the mapping between SVN revisions and git SHAs. To enable the mapping, edit
your <code class="language-plaintext highlighter-rouge">.git/config</code> file and add</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[remote "origin"]
...
fetch = +refs/svn/map:refs/notes/commits
</code></pre></div></div>
<p>After that, the <code class="language-plaintext highlighter-rouge">git log</code> command will show the original SVN revision of any
commits that were created through mirroring.</p>

<h3 id="dependencies">Dependencies</h3>

<p>Dependencies are indicated by maintaining a file called <code class="language-plaintext highlighter-rouge">Dependencies</code> in the
root of your repository. This is used by the <a href="#coinbrew"><code class="language-plaintext highlighter-rouge">coinbrew</code></a> script,
among others, to determine what additional projects are needed. The format of
the file is lines consisting of a short name for the project, a URL, and (in
the case of a git dependency), a branch name. Note that you can mix git and
SVN URLs, although only SVN URLs hosted on <code class="language-plaintext highlighter-rouge">projects.coin-or.org</code>. The basic
format is something like</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>BuildTools  https://projects.coin-or.org/svn/BuildTools/stable/0.8
ThirdParty/Blas   https://projects.coin-or.org/svn/BuildTools/ThirdParty/Blas/stable/1.3
ThirdParty/Lapack https://projects.coin-or.org/svn/BuildTools/ThirdParty/Lapack/stable/1.4
Data/Sample https://projects.coin-or.org/svn/Data/Sample/stable/1.2
CoinUtils   https://projects.coin-or.org/svn/CoinUtils/stable/2.11/CoinUtils
Osi         https://projects.coin-or.org/svn/Osi/stable/0.108/Osi
Clp         https://projects.coin-or.org/svn/Clp/stable/1.17/Clp
Cgl         https://projects.coin-or.org/svn/Cgl/stable/0.60/Cgl
Cbc         https://projects.coin-or.org/svn/Cbc/stable/2.10/Cbc
Alps        https://github.com/coin-or/CHiPPS-ALPS stable/1.5
SYMPHONY    https://projects.coin-or.org/svn/SYMPHONY/stable/5.6/SYMPHONY
</code></pre></div></div>
<p>For now, there may be a mix of URLs for Github and SVN, but this will eventually be
only Github URLs.</p>

<h3 id="root-directories">Root directories</h3>

<p>Another change being made as we move from SVN to git is to remove what used to
be the root directory of each repository. The repository for project Xxx used
to contain a subdirectory within it called Xxx. This was so that when the
project was checked out with its SVN externals (dependencies), the result
would that each project (including the main project would edn up in its own
subdirectory. At the root level, there was also a main <code class="language-plaintext highlighter-rouge">configure</code> script,
<code class="language-plaintext highlighter-rouge">Makefile.am</code>, Makefile.in` and a number of other autotools-related scripts.
The resulting structure when project Xxx was checked out was</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Xxx/
Yyy/
Zzz/
configure
Makefile.am
Makefile.in
...
</code></pre></div></div>
<p>The new structure will (eventually) be that the root directory will be
removed. When checked out with <code class="language-plaintext highlighter-rouge">coinbrew</code>, the same overall structure (each
project in its own subdirectory will be maintainedm, but the root directory
won’t be part of any repository and the main <code class="language-plaintext highlighter-rouge">configure</code> script is essentially
replaced by <code class="language-plaintext highlighter-rouge">coinbrew</code> (see section below describing coinbrew).</p>

<h2 id="development-workflows">Development workflows</h2>

<p>For the foreseeable future, workflows under git will be similar to those under
SVN. Development will take place in the <code class="language-plaintext highlighter-rouge">master</code> branch (or in feature
branches, as described below). Long-running branches will be maintained for
each stable version, but it is typically not expected that commits will be
made directly to these branches. Instead, as was also the case with SVN,
commits made to master will be moved to the stable branches, as explained in
the next section.</p>

<h3 id="publishing-changes">Publishing changes</h3>

<p>By default, whatever branch you check out will be set up to “track the
remote,” meaning that you can sync changes from the same branch in the remote
repository (on COIN-OR’s Git hub repo) and publish your changes to that
branch. The normal flow of development would thus be to first checkout the
<code class="language-plaintext highlighter-rouge">master</code> branch (if not already done).</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git checkout master
</code></pre></div></div>
<p>After checking out <code class="language-plaintext highlighter-rouge">master</code>, make some changes, then commit them. Comitting in
git is different than in SVN in that SVN commits all changes by default,
whereas git only commits what you tell it to. The first step is then to <code class="language-plaintext highlighter-rouge">add</code>
the files whose changes should be committed. Following this, you then <code class="language-plaintext highlighter-rouge">commit</code>
the changes. The <code class="language-plaintext highlighter-rouge">commit</code> command only records the changes in your local copy
of the repository. To publish them requires a <code class="language-plaintext highlighter-rouge">push</code> command, as follows. ```</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git add fileToAdd.cpp
git commit -m "This is the commit message describing the commit"
git push
</code></pre></div></div>
<p>If you want to see what files have changed since the last commit, you can do</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git status
</code></pre></div></div>
<p>To see the detailed diff, you can do</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git diff
</code></pre></div></div>
<p>Note that if you <code class="language-plaintext highlighter-rouge">add</code> a file and then make more changes to it before committing,
the new changes will not be included. You need to <code class="language-plaintext highlighter-rouge">add</code> again. The <code class="language-plaintext highlighter-rouge">git diff</code>
command is against the current index, so if you <code class="language-plaintext highlighter-rouge">git add fileToAdd.cpp</code> and then
<code class="language-plaintext highlighter-rouge">git diff fileToAdd.cpp</code>, the difference will be empty. To diff the changes
you have staged and are about to commit against the previous commit, do
<code class="language-plaintext highlighter-rouge">git diff --cached</code>.</p>

<h3 id="syncing-a-local-branch-with-remote">Syncing a local branch with remote</h3>

<p><strong>This section is important, please read carefully</strong>. Before you are allowed
to publish (<code class="language-plaintext highlighter-rouge">push</code>) your commits, you must sync your branch with the remote.
This means invoking the command</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git pull
</code></pre></div></div>
<p>In git, there are <em>two ways</em>
to sync change and it is very important to understand the difference.</p>

<h4 id="merge">Merge</h4>

<p>The default is to <code class="language-plaintext highlighter-rouge">merge</code>, which will attempt to take the current tip of your
branch and combine it with the current tip of the remote branch, just as
happens when doing an <code class="language-plaintext highlighter-rouge">svn update</code>. This may or may not create a conflict. If
there is a conflict, then you must resolve it, just as you would in SVN, by
looking for conflict markers. After resolving the conflict, the files may need
to added again with a <code class="language-plaintext highlighter-rouge">git add</code> to indicate the conflict has been resolved
(this may happen automatically whenever the file doesn’t contain any conflict
markers). Merging creates a “merge commit” whose purpose is to record the two
parent commits (the repsective tips of the two paths in the graph that are
being brought back together.</p>

<h4 id="rebase-preferred">Rebase (Preferred)</h4>

<p>A <code class="language-plaintext highlighter-rouge">rebase</code> is the other alternative and is almost always preferred, although
it is not the default. What a rebase does is to reapply each of your commits,
starting at the tip of the remote branch, creating a history that looks as if
you started your work with the current tip of the remote branch and worked
from there. This is preferable because it creates a so-called “linear history”
rather than a history that introduces additional divergent paths into the
commit graph and includes merge commits that interrupt the flow of the
history. Two possible disadvantages of <code class="language-plaintext highlighter-rouge">rebase</code> are</p>
<ul>
  <li>A rebase will change the SHAs of all your local commits, so you should
never do this if you have already shared your commits with someone else or
if pointers to those commits exist somewhere else. This shouldn’t be the
case for work in progress that only exists on your local machine.</li>
  <li>A rebase can make it more difficult to resolve conflicts, since it applies
each of your local commits, one by one. Each of these commits could
potentially cause a conflict, which needs to be resolved, one by one. If
this process is too arduous it is easy to abort and do a merge instaead.</li>
</ul>

<p>To do a pull with rebase, one can execute the command</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git pull --rebase
</code></pre></div></div>
<p>To avoid having to remember to do this each time, it is easy to change the
default for pulling to be <code class="language-plaintext highlighter-rouge">rebase</code> with the command</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git config --global pull.rebase true
</code></pre></div></div>
<p>This is <strong>highly recommended</strong>.</p>

<p>When pulling with rebase, if there is a conflict, it should be resolved in the
usual way (remove conflict markers, add the files if necessary) and then <code class="language-plaintext highlighter-rouge">git
rebase --continue</code> must be called to continue the process. If at any time, you
want to to abort the process and start over, just do `git rebase –abort.</p>

<h3 id="syncing-stable-branch-with-master">Syncing stable branch with master</h3>

<p>To move changes from <code class="language-plaintext highlighter-rouge">master</code> to <code class="language-plaintext highlighter-rouge">stable/x.y</code>, the process is very similar to
<code class="language-plaintext highlighter-rouge">svn merge</code>.</p>

<h4 id="moving-individual-commits">Moving individual commits</h4>

<p>The command in git corresponding most precisely to <code class="language-plaintext highlighter-rouge">svn merge</code> is <code class="language-plaintext highlighter-rouge">git
cherry-pick</code>. If you want to move a single commit from <code class="language-plaintext highlighter-rouge">master</code> to
<code class="language-plaintext highlighter-rouge">stable/x.y</code>, the recommended incantation is</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git checkout stable/x.y
git cherry-pick -sex 1b89e6cc58
</code></pre></div></div>
<p>A big difference between <code class="language-plaintext highlighter-rouge">svn</code> and <code class="language-plaintext highlighter-rouge">git</code> is that <code class="language-plaintext highlighter-rouge">svn</code> is “patch-based”
meaning that the repository is a collection of patches, and <code class="language-plaintext highlighter-rouge">svn</code> explicitrly
tracks when a patch is moved from one branch (folder) to another. In <code class="language-plaintext highlighter-rouge">git</code>,
there is no explicit tracking. By adding <code class="language-plaintext highlighter-rouge">-sex</code> above, however, we do get some
additional information, which makes it easier to keep track. The <code class="language-plaintext highlighter-rouge">-s</code>
explicitly records who performaed the cherry pick. the <code class="language-plaintext highlighter-rouge">-x</code> records the SHA of
the original commit that was cherry picked.  Finally, the <code class="language-plaintext highlighter-rouge">-e</code> allows editing
of the commit message for any additional information that should be recorded.</p>

<p>It is also possible to cherry pick a series of commits, just as with <code class="language-plaintext highlighter-rouge">svn
merge</code>.</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git cherry-pick -sex 1b89e6cc58..c0079e0da58
</code></pre></div></div>
<p>There is lots of other fancy stuff that can be done, see the <a href="https://git-scm.com/docs/git-cherry-pick">git
book</a> for examples.</p>

<p>One final possibly useful command is <code class="language-plaintext highlighter-rouge">git cherry</code>, which lists all commits
that have not yet been cherry-picked. Note, however, that it determines
whether a commit has already been applied by comparing the id’s (hashes) of
the patches associated with each commit. If the patch applied when cherry
picking the commit the first time was not exactly the same as the patch in the
original branch (e.g., there was a conflct), then this will not be detected.
See discussion <a href="https://stackoverflow.com/a/18746296/3054922">here</a>.</p>

<h4 id="rebasing">Rebasing</h4>

<p>Depending on what you want to do precisely, there are many alternatives to
<code class="language-plaintext highlighter-rouge">cherry-pick</code>. one that is not well-tested, but seems to be useful is to
interactively rebase master onto stable/2.10.</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git rebase -i --signoff --onto stable/2.10 `git merge-base master stable/2.10` master
</code></pre></div></div>
<p>This command replays each commit in master on top of stable/2.10, starting at
last common ancestor (which is given by <code class="language-plaintext highlighter-rouge">git merge-base master stable/2.10</code>).
The <code class="language-plaintext highlighter-rouge">-i</code> argument maskes the rebase interactive, which means that the person
doing the rebase will be presented with a file to edits containing all
available commits and will be able to choose any that are relevant, deleting
the others. Only the chosen commits will be moved. Thus, the result is similar
to cherry-pick, but it may be easier to pick the exact set of commits to be
moved. Note that the commit message for the re-based commits will not include
the original SHA in this case. It should be possible, though using the <code class="language-plaintext highlighter-rouge">-x</code>
argument, which runs a command after each commit, to amend the commmit
message with the SHA of the original commit. The <code class="language-plaintext highlighter-rouge">-x</code> argument cxould also be
used to run a unit test after each commit is added to ensure that no commit
added breaks anything.</p>

<h3 id="making-a-new-stable-version">Making a new stable version</h3>

<p>Scripts will ultimately be provided for automating the process of making a new
stable version, but the process in git is similar to that in SVN. A new branch
is first made from a commit in <code class="language-plaintext highlighter-rouge">master</code> and the version string in
<code class="language-plaintext highlighter-rouge">configure.ac</code> is updated.</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git checkout master
git checkout -b stable/x.y
&lt;edit configure.ac&gt;
run_autotools .
git add -u
git commit -m "Creating new stable branch x.y"
git push -u origin stable/x.y
</code></pre></div></div>
<p>In addition, the <code class="language-plaintext highlighter-rouge">Dependencies</code> probably needs to be updated.</p>

<h3 id="making-a-release">Making a release</h3>

<p>The process of making a new release is quite different in git than in SVN. In
SVN, it was necessary to create a number of “fake” commits that were there
only for the purposes of temporarily changing version numbers. In git, it is
possible to make a release without creating any additional commits that appear
in the history of the stable branch. We simply make a new branch from
stable/5.6, create a single commit in that new branch, tag that commit, then
delete the branch. Deleting a branch in git only means the label/pointer is
deleted, not the commits in the branch. The tag that remains is enough to find
the commit associated with the release if needed.</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git checkout stable/x.y
git checkout -b release-x.y.z
&lt;edit configure.ac, CHANGELOG, Dependencies etc.&gt;
run_autotools .
git add -u
git commit -m "Creating new release x.y.z"
git tag -a releases/x.y.z -m "Creating release x.y.z"
git push origin releases/x.y.z
git checkout stable/x.y
git branch -d release-x.y.z
</code></pre></div></div>

<h3 id="developing-a-feature">Developing a feature</h3>

<p>Development of new features should be done, if at all possible in a “feature
branch.” THis can be done in one of two ways. Either fork the remote
repository on Github into your own personal Github account and develop the
feature there (this is somewhat preferred) or, if you are main developer,
develop it in a separate branch in the main repo.</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git checkout master
git checkout -b feature_branch
&lt;do some development&gt;
git rebase master
&lt;do some more development&gt;
git rebase master
</code></pre></div></div>
<p>Once the feature is ready to be merged into master, it is strongly preferred
that this be done using a pull request. If you are viewing your feature branch on
Github, there should be a button there for creating a pull request.</p>

<h2 id="the-coinbrew-script">The <code class="language-plaintext highlighter-rouge">coinbrew</code> script</h2>

<p>The <code class="language-plaintext highlighter-rouge">coinbrew</code> script is a universal script for checking our projects with
their dependencies, building a project and its dependencies, switching
version, and much much more. The documentation for it is
<a href="https://coin-or.github.io/coinbrew">here</a>.</p>

<h2 id="working-with-github">Working with GitHub</h2>

<h3 id="continuous-integeration">Continuous Integeration</h3>

<h3 id="zenodo-and-dois">Zenodo and DOIs</h3>

<h3 id="project-web-sites">Project Web sites</h3>

<h2 id="working-with-the-build-system">Working with the build system</h2>



    <div class="tags">
        
        <b>Tags: </b>
        
        
        
        
        
    </div>




</div>

<hr class="shaded"/>

<footer>
            <div class="row">
                <div class="col-lg-12 footer">
               &copy;2020 COIN-OR Foundation. All rights reserved. <br />
 Site last generated: May 3, 2020 <br />
<p><img src="images/COIN-OR_150.png" width="50" height="50" alt="COIN-OR logo"/></p>
                </div>
            </div>
</footer>


        </div>
    <!-- /.row -->
</div>
<!-- /.container -->
</div>
<!-- /#main -->
    </div>

</body>

</html>
